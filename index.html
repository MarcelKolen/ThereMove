<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Style sheet -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <!-- JS libraries -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
            integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
            integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.61/Tone.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>

    <title>ThereMove</title>

</head>
<body>
<!-- page navigation header -->
<header>
    <nav class="navbar navbar-expand-lg navbar-light sticky-top" style="background-color: aquamarine;">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarContent">
            <div class="nav navbar-nav mr-auto" id="nav-tab" role="tablist">
                <a class="nav-item nav-link active" style="color: slategray;" id="nav-STM-tab" data-toggle="tab"
                   href="#nav-STM" role="tab" aria-controls="nav-STM" aria-selected="true">Slider to Sound</a>
                <a class="nav-item nav-link" style="color: slategray;" id="nav-MTM-tab" data-toggle="tab"
                   href="#nav-MTM" role="tab" aria-controls="nav-MTM" aria-selected="false">Movement to Sound</a>
                <a class="nav-item nav-link" style="color: slategray;" id="nav-MTD-tab" data-toggle="tab"
                   href="#nav-MTD" role="tab" aria-controls="nav-MTD" aria-selected="false">Movement to Data</a>
            </div>
        </div>
    </nav>
</header>

<main>
    <div class="container" style="margin-top: 20px; margin-bottom: 20px; height: 100%;">
        <div class="row" style="height: 100%;">
            <div class="col-md-12" style="height: 100%;">
                <div class="tab-content" id="nav-tabContent" style="height: 100%;">

                    <div class="tab-pane fade show active" id="nav-STM" role="tabpanel" aria-labelledby="nav-STM-tab"
                         style="height: 100%;">
                        <div class="jumbotron" style="height: 100%;">
                            <div class="row">
                                <div class="col-md-12">
                                    <a href="" data-toggle="modal" data-target="#slider-help"><code>Help me!</code></a>
                                </div>
                            </div>
                            <hr class="my-4">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="pitch-min">Pitch-minimum</label>
                                                <input type="number" class="form-control pitch-min" id="pitch-min"
                                                       min="0">
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="pitch-max">Pitch-maximum</label>
                                                <input type="number" class="form-control pitch-max" id="pitch-max"
                                                       min="0">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label for="volume-range">Volume-range</label>
                                                <input type="range" class="form-control-range" id="volume-range"
                                                       value="0">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label for="pitch-range">Pitch-range</label>
                                                <input type="range" class="form-control-range" id="pitch-range"
                                                       value="0">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label for="volume-result">Volume</label>
                                                <input type="text" class="form-control volume-data" id="volume-result"
                                                       value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label for="pitch-result">Pitch</label>
                                                <input type="text" class="form-control pitch-data" id="pitch-result"
                                                       value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="custom-control custom-switch">
                                                <input type="checkbox" class="custom-control-input" id="slider-music">
                                                <label class="custom-control-label" for="slider-music">Sound
                                                    on/off</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="nav-MTM" role="tabpanel" aria-labelledby="nav-MTM-tab"
                         style="height: 100%;">
                        <div class="jumbotron" style="height: 100%;">
                            <div class="row">
                                <div class="col-6">
                                    <a href="" data-toggle="modal" data-target="#movement-help"><code>Help
                                        me!</code></a>
                                </div>
                                <div class="col-6">
                                    <a href="" data-toggle="modal" data-target="#motion-settings-modal"><code>Motion settings</code></a>
                                </div>
                            </div>
                            <hr class="my-4">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="pitch-min-MTM">Pitch-minimum</label>
                                                <input type="number" class="form-control pitch-min" id="pitch-min-MTM"
                                                       value="0"
                                                       min="0">
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="pitch-max-MTM">Pitch-maximum</label>
                                                <input type="number" class="form-control pitch-max" id="pitch-max-MTM"
                                                       value="100"
                                                       min="0">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="x-MTM">Accel-x</label>
                                                <input type="text" class="form-control" id="x-MTM" value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="y-MTM">Accel-y</label>
                                                <input type="text" class="form-control" id="y-MTM" value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="vx-MTM">Speed-x</label>
                                                <input type="text" class="form-control" id="vx-MTM" value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="vy-MTM">Speed-y</label>
                                                <input type="text" class="form-control" id="vy-MTM" value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="px-MTM">Position x</label>
                                                <input type="text" class="form-control" id="px-MTM" value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="py-MTM">Position y</label>
                                                <input type="text" class="form-control" id="py-MTM" value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label for="volume-result-MTM">Volume</label>
                                                <input type="text" class="form-control volume-data"
                                                       id="volume-result-MTM" value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label for="pitch-result-MTM">Pitch</label>
                                                <input type="text" class="form-control pitch-data" id="pitch-result-MTM"
                                                       value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="d-MTM">Datapoints</label>
                                                <input type="text" class="form-control" id="d-MTM" value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label for="i-MTM">Interval</label>
                                                <input type="text" class="form-control" id="i-MTM" value="0"
                                                       readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="custom-control custom-switch">
                                                <input type="checkbox" class="custom-control-input"
                                                       id="slider-music-MTM">
                                                <label class="custom-control-label" for="slider-music-MTM">Sound
                                                    on/off</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="nav-MTD" role="tabpanel" aria-labelledby="nav-MTD-tab"
                         style="height: 100%">
                        <div class="jumbotron" style="height: 100%">
                            <div class="row">
                                <div class="col-6">
                                    <a href="" data-toggle="modal" data-target="#movement-help"><code>Help
                                        me!</code></a>
                                </div>
                                <div class="col-6">
                                    <a href="" data-toggle="modal" data-target="#motion-settings-modal"><code>Motion settings</code></a>
                                </div>
                            </div>
                            <hr class="my-4">
                            <div class="row" style="height: 100%;">
                                <div class="col-12" style="height: 100%;">
                                    <canvas id="movementDataChart" style="width: 100%; height: auto;">
                                        <h1>Sorry, your browser does not support the canvas element :(</h1>
                                    </canvas>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 text-center">
                                    <button type="button" class="btn btn-danger btn-sm"
                                            style="width: 50%; align-content: center;" id="accel-btn">Acceleration
                                    </button>
                                </div>
                                <div class="col-md-4 text-center">
                                    <button type="button" class="btn btn-outline-warning btn-sm"
                                            style="width: 50%; align-content: center;" id="speed-btn">Speed
                                    </button>
                                </div>
                                <div class="col-md-4 text-center">
                                    <button type="button" class="btn btn-outline-success btn-sm"
                                            style="width: 50%; align-content: center;" id="pos-btn">Position
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div class="custom-control custom-switch">
                                        <input type="checkbox" class="custom-control-input"
                                               id="slider-data-MTD">
                                        <label class="custom-control-label" for="slider-data-MTD">Tracking
                                            on/off</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Start modal -->
    <div class="modal fade" id="on-startup-modal" data-backdrop="static" data-keyboard="false" tabindex="-1"
         aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">ThereMove</h5>
                </div>
                <div class="modal-body">
                    <p>In this demo we will show three components of our research into the simulation of a theremin
                        device:</p>

                    <ul>
                        <li>
                            Mapping raw numerical data to a synthesiser.
                        </li>
                        <li>
                            Converting movement data from the accelerometer into positional data and mapping it into the
                            synthesiser.
                        </li>
                        <li>
                            Showing the difficulties involved with working on accelerometer data through raw data
                            plotting.
                        </li>
                    </ul>

                    <p>Please refer to the <code>top menu bar</code> to switch between the different modes. Please also
                        note that every page has a <code>help me</code> button for a small guide into the app.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success btn-sm" id="start-app" data-dismiss="modal">Click on me
                        to start the app
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- control modal -->
    <div class="modal" id="motion-settings-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Motion settings</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <ul>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p><b>Acceleration amplifier</b> puts an amplifier on the acceleration data making it more sensitive to movement.</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="acceleration-amplifier">Acceleration amplifier</label>
                                        <input type="number" class="form-control" id="acceleration-amplifier"
                                               value="1" min="1">
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p><b>Maximum motion speed</b> determines the maximum motion speed (caps if higher or lower).</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="max-speed">Maximum motion speed</label>
                                        <input type="number" class="form-control" id="max-speed"
                                               value="1" min="1">
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p><b>Deadzone</b> determines how much movement is required before the sensors pick up the movement.</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="deadzone">Maximum motion speed</label>
                                        <input type="number" class="form-control" id="deadzone"
                                               value="1" min="1">
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help modals -->
    <!-- Help sliders -->
    <div class="modal" id="slider-help" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Sliders</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>On the slider page there are several input field and a few read only fields. Here we will quickly
                        explain what each field does:</p>
                    <ul>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p>These sliders help you with dialing in a gradual change in either <b>volume</b>
                                        or <b>pitch</b>. For volume, the <i>minimum</i> is <b>1</b> and the
                                        <i>maximum</i> is <b>10</b>.</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="range-example">Volume or Pitch</label>
                                        <input type="range" class="form-control-range" id="range-example"
                                               value="0">
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p>The <b>pitch</b> <i>minimum</i> and <i>maximum</i> allow you to dial in a minimum
                                        and maximum pitch height. The lowest you can go is <b>0</b> and the highest is
                                        for you to decide (well.. up to a certain point of course because human hearing
                                        is limited). You can then use the slider to get a point between these two
                                        values!</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="pitch-minmax-example">Pitch min/max example</label>
                                        <input type="number" class="form-control pitch-data" id="pitch-minmax-example"
                                               value="240">
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p>The readonly fields tell you the actual value of either <b>volume</b> or
                                        <b>pitch</b> which is being send to the sound synthesizer. The value in this
                                        field is entirely dependant on your input! Play around with the input field to
                                        see these values change.</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="result-example">Pitch example</label>
                                        <input type="text" class="form-control pitch-data" id="result-example"
                                               value="240 Hz"
                                               readonly>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p>The sound output is enabled or disabled with the toggle switch!</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="custom-control custom-switch">
                                        <input type="checkbox" class="custom-control-input"
                                               id="slider-example-sliders">
                                        <label class="custom-control-label" for="slider-example-sliders">on/off</label>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help movement -->
    <div class="modal" id="movement-help" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Movement to sound</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>On the movement to sound page there are several input field, a few read only fields and some
                        other special characteristics. Here we will quickly explain what each component does:</p>
                    <ul>
                        <li>
                            <div class="row">
                                <div class="col-12">
                                    <p>In order to change the volume and pitch, it is required that you move your device
                                        about from side to side and up and down! Horizontal motion translates to a
                                        change in pitch and vertical motion changes the volume for you. The sound is not
                                        dependant on shaking for example, but more on linear motions.</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p>The <b>pitch</b> <i>minimum</i> and <i>maximum</i> allow you to dial in a minimum
                                        and maximum pitch height. The lowest you can go is <b>0</b> and the highest is
                                        for you to decide (well.. up to a certain point of course because human hearing
                                        is limited). You can then use motion to get a point between these two values!
                                    </p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="pitch-minmax-example-move">Pitch min/max example</label>
                                        <input type="number" class="form-control pitch-data"
                                               id="pitch-minmax-example-move"
                                               value="240">
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p>The readonly fields tell you the actual value of <b>volume</b> or <b>pitch</b>
                                        for example, but also the values caught by the accelerometer. The value in this
                                        field is entirely dependant on your input! Play around with the input field to
                                        see these values change.</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="result-example-move">Pitch example</label>
                                        <input type="text" class="form-control pitch-data" id="result-example-move"
                                               value="240 Hz"
                                               readonly>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p>The sound output is enabled or disabled with the toggle switch!</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="custom-control custom-switch">
                                        <input type="checkbox" class="custom-control-input"
                                               id="slider-example-sliders-move">
                                        <label class="custom-control-label"
                                               for="slider-example-sliders-move">on/off</label>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help data -->
    <div class="modal" id="data-help" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Movement to data</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>On the movement to data page you can see the raw output of the sensors and the corresponding
                        calculated data. Here we will quickly explain what each component does:</p>
                    <ul>
                        <li>
                            <div class="row">
                                <div class="col-12">
                                    <p>When you turn on the motion capturing feature with the slider, to app will start
                                        to record every little movement of the device. All the movement will be
                                        translated to data and it will be plotted for you to see.</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p>You can use one of the three buttons below the chart to display different
                                        characteristics. You can choose between <b>acceleration</b>, <b>speed</b> and
                                        <b>position</b>.</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="col-md-4 text-center">
                                        <button type="button" class="btn btn-danger btn-sm">Acceleration</button>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p>The data capture is enabled or disabled with the toggle switch!</p>
                                </div>
                                <div class="col-sm-6">
                                    <div class="custom-control custom-switch">
                                        <input type="checkbox" class="custom-control-input"
                                               id="slider-example-sliders-data">
                                        <label class="custom-control-label"
                                               for="slider-example-sliders-data">on/off</label>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</main>

</body>
</html>
<script src="js/base.js"></script>
<script src="js/chart.js"></script>
<script src="js/motion.js"></script>
<script src="js/motionToData.js"></script>
<script src="js/motionToSound.js"></script>
<script src="js/sliderToSound.js"></script>
<script>
    $(document).ready(function () {
        $("#on-startup-modal").modal();

        reset();
    })

    function updateMovementToSoundFields() {
        $("#x-MTM").val(a_x + " ms2");
        $("#y-MTM").val(a_y + " ms2");
        $("#i-MTM").val(a_i + " msec");
        $("#vy-MTM").val(v_y + " ms");
        $("#vx-MTM").val(v_x + " ms");
        $("#px-MTM").val(p_x);
        $("#py-MTM").val(p_y);
        $("#d-MTM").val(datapoints);
    }

    function updateSlidersFields() {
        $("#volume-range").val(volumeRange);
        $("#pitch-range").val(pitchRange);
    }

    function reset() {
        // Reset checkboxes
        $("#slider-data-MTD").prop('checked', false);
        $("#slider-music-MTM").prop('checked', false);
        $("#slider-music").prop('checked', false);

        // Reset sound control
        soundEnabled = false;
        soundRunning = false;

        // Reset JS variables
        volumeRange = 100;
        volumeActual = 10;
        pitchRange = 0;
        pitchMax = 500;
        pitchMin = 80;
        pitchActual = 80;
        deadzone = 0.1;

        // Reset movement variables
        datapoints = 0;
        p_x = 0;
        p_y = 0;
        v_x = 0;
        v_y = 0;
        a_x = 0;
        a_y = 0;
        a_i = 0;
        amplifier = 1;
        maxSpeed = 10;

        // Reset DOM fields
        updateSlidersFields();
        updateMovementToSoundFields();
        $(".volume-data").val(volumeActual);
        $(".pitch-min").val(pitchMin);
        $(".pitch-max").val(pitchMax);
        $(".pitch-data").val(pitchActual + " Hz");
        $("#acceleration-amplifier").val(amplifier);
        $("#max-speed").val(maxSpeed);
        $("#deadzone").val(deadzone);

        sliderPage();
        movementToSoundPage();
        movementToDataPage();
    }

    $("#nav-STM-tab").on("click", function (e) {
        reset();
    })

    $("#nav-MTM-tab").on("click", function (e) {
        reset();
    })

    $("#nav-MTD-tab").on("click", function (e) {
        reset();
    })

    /* Start app */

    $("#start-app").click(function (e) {
        Tone.start();

        $("#slider-music").click(function (e) {
            sliderPage();
        })

        $("#slider-data-MTD").click(function (e) {
            movementToDataPage();
        })

        $("#slider-music-MTM").click(function (e) {
            movementToSoundPage();
        })
    })
</script>